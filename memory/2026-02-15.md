# 2026-02-15

## OpenSpec 学习 Day 1-2: 概念理解

### 学习内容
完成了 OpenSpec Day 1-2 的概念理解阶段，阅读了所有必读文档：
- `docs/getting-started.md` - 快速开始指南
- `docs/concepts.md` - 核心概念（最重要）
- `docs/workflows.md` - 工作流模式
- `docs/commands.md` - 命令参考

### 核心概念理解

**四大哲学：**
1. fluid not rigid — 无严格关卡，随时可更新
2. iterative not waterfall — 边做边学，边做边改
3. easy not complex — 轻量级，零仪式感
4. brownfield-first — 适合已有项目

**两个关键目录：**
- `specs/` - 真理之源，描述系统当前行为
- `changes/` - 提议的变更，每个变更一个独立文件夹

**四种工件：**
1. `proposal.md` - 意图、范围、方法
2. `specs/` - Delta 规范（增量变更：ADDED/MODIFIED/REMOVED）
3. `design.md` - 技术方案和架构决策
4. `tasks.md` - 实现检查清单

**Delta Spec 优势：**
- 清晰：一眼看出改了什么
- 避免冲突：多个变更可并行
- 高效审查：只看变化部分
- 适合增量开发

### 重要讨论与洞察

#### 1. 命令中的 `ff` 含义
`ff` 是 "fast-forward" 的缩写，一次性创建所有规划工件，不中断。与 `continue` 的区别：
- `/opsx:continue` - 逐步推进，每步都检查
- `/opsx:ff` - 快速推进，直达实现阶段

#### 2. OpenSpec 不创建 Git 分支
OpenSpec 使用自己的文件夹结构管理变更，不创建 Git 分支。判断 Change A 的文件关联：
- 不自动追踪文件关联
- 使用 `tasks.md` 中的复选框 `[ ]/[x]` 记录任务状态
- 回到 Change A 时，读取 `tasks.md` 找到未完成任务继续执行
- 适合 Spec-Driven 开发（关注"要做什么"），不是代码追踪工具

#### 3. Specs 子目录名的产生
- 主 specs 目录：第一次创建时需要（或 AI 推断），之后自动匹配已有目录
- Change 中的 specs：由 AI 根据（1）匹配已有目录（2）内容智能推断（3）用户对话指定
- 跟随代码结构映射，无需额外领域建模经验

#### 4. 领域划分的难度问题
用户担忧：领域划分需要经验，会加大使用难度。

**实际：**
- OpenSpec 强调"流动"，可以边做边调整
- 支持渐进式划分：单文件 → 多领域
- 新项目：可以从 `app.md` 开始，逐步拆分
- 现有项目：跟随已有代码结构
- AI 可以分析代码库，智能建议领域划分

**门槛 vs 收益：**
- 前置认知成本，换来长期可维护性和 AI 效率
- 适合有一定规模的持续维护项目、团队协作项目
- 不适合纯玩具项目或完全的新手

#### 5. 领域重构的实际例子
展示了从单文件 `app.md`（23 requirements）拆分成 5 个领域的完整过程：
- auth/ (4 requirements)
- commerce/ (7 requirements)
- catalog/ (6 requirements)
- admin/ (2 requirements)
- system/ (4 requirements)

#### 6. OpenSpec 的辅助能力
**三层辅助：**
1. **CLI 命令（JSON 输出）** - `openspec list --json`, `openspec validate --all --json`
2. **AI 本身（核心）** - 自动分析、分类、迁移、验证
3. **AI + CLI 结合** - AI 调用 CLI 验证结果

**重构工作量对比：**
- 手动：5-7 小时，高错误率
- AI 辅助：5-10 分钟，低错误率

**推荐流程：**
1. `/opsx:explore`
2. "帮我分析 app.md，规划领域重构"
3. AI 给出方案
4. 用户确认
5. AI 执行 + 验证
6. 检查结果

### 用户反馈
- 对 OpenSpec 的设计哲学和灵活性有深入理解
- 关注实际操作和 AI 辅助能力
- 希望看到更多实际案例

### 下一步建议
- 写学习笔记（概念理解）
- 尝试 `/opsx:onboard` 交互式教程
- 开始实际项目实践
